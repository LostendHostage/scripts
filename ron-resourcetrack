local ronner = Instance.new("ScreenGui")
local mainframe = Instance.new("Frame")
local newbutton = Instance.new("TextButton")
local holder = Instance.new("ScrollingFrame")
local UIListLayout = Instance.new("UIListLayout")

ronner.Name = "ronner"
ronner.Parent = game:GetService("CoreGui")
ronner.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

mainframe.Name = "mainframe"
mainframe.Parent = ronner
mainframe.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainframe.Position = UDim2.new(0.0238386337, 0, 0.205735669, 0)
mainframe.Size = UDim2.new(0.300156325, 0, 0.318518519, 0)

newbutton.Name = "newbutton"
newbutton.BackgroundColor3 = Color3.fromRGB(34, 34, 34)
newbutton.BorderSizePixel = 0
newbutton.Size = UDim2.new(1, 0, 0.0500000007, 0)
newbutton.Font = Enum.Font.SourceSansBold
newbutton.TextColor3 = Color3.fromRGB(170, 0, 0)
newbutton.TextScaled = true
newbutton.TextSize = 14.000
newbutton.TextWrapped = true

holder.Name = "holder"
holder.Parent = mainframe
holder.Active = true
holder.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
holder.BackgroundTransparency = 1.000
holder.Size = UDim2.new(1, 0, 1.00000012, 0)
holder.CanvasSize = UDim2.new(0, 0, 3, 0)

UIListLayout.Parent = holder
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

local function CGMHPXC_fake_script()
	local script = Instance.new('LocalScript', mainframe)

	mainframe.Draggable = true
	
	game.Players.LocalPlayer:GetMouse().KeyDown:Connect(function(key)
		if key:lower() == _G.toggle:lower() then
			mainframe.Visible = not mainframe.Visible
		end
	end)
	
	local resources = {}
	
	local enabled = {}
	local frames = {}
	
	local function GetCountry()
		for _, v in pairs(workspace.CountryData:GetChildren()) do
			if v:FindFirstChild("Leader") then
				if v:FindFirstChild("Leader").Value == game.Players.LocalPlayer.Name then
					return v.Name
				end
			end
		end
	end
	
	while wait(1) do
		local country = GetCountry()
		local cntr = workspace.CountryData:FindFirstChild(country)
	
		if #resources < 1 then
			for _, resource in pairs(cntr.Resources:GetChildren()) do
				table.insert(resources, resource)
	
				local button = newbutton:Clone()
				button.Parent = holder
				button.Name = resource.Name
				button.Text = resource.Name
	
				button.MouseButton1Click:Connect(function()
					if not table.find(enabled, resource) then
						table.insert(enabled, resource)
	
						button.TextColor3 = Color3.fromRGB(0, 170, 0)
					else
						table.remove(enabled, table.find(enabled, resource))
	
						button.TextColor3 = Color3.fromRGB(170, 0, 0)
						if game.Players.LocalPlayer.PlayerGui:WaitForChild("GameGui"):WaitForChild("MainFrame"):WaitForChild("StatsFrame"):WaitForChild("Stats"):WaitForChild("WarningFrame"):FindFirstChild(resource.Name.. "-deficit") then
							game.Players.LocalPlayer.PlayerGui:WaitForChild("GameGui"):WaitForChild("MainFrame"):WaitForChild("StatsFrame"):WaitForChild("Stats"):WaitForChild("WarningFrame"):FindFirstChild(resource.Name.. "-deficit"):Destroy()
						end
					end
				end)
			end
		end
		
		for _, resource in pairs(enabled) do
			local amountLeft = resource.Value
			local flow = resource:FindFirstChild("Flow").Value
			
			if amountLeft < 1 or flow < 1 then
				if not game.Players.LocalPlayer.PlayerGui:WaitForChild("GameGui"):WaitForChild("MainFrame"):WaitForChild("StatsFrame"):WaitForChild("Stats"):WaitForChild("WarningFrame"):FindFirstChild(resource.Name.. "-deficit") then
					local frame = Instance.new("TextButton")
					
					frame.Parent = game.Players.LocalPlayer.PlayerGui:WaitForChild("GameGui"):WaitForChild("MainFrame"):WaitForChild("StatsFrame"):WaitForChild("Stats"):WaitForChild("WarningFrame")
					frame.AnchorPoint = Vector2.new(.5, 1)
					frame.BackgroundColor3 = Color3.fromRGB(39, 47, 56)
					frame.BackgroundTransparency = .25
					frame.Font = Enum.Font.SourceSansSemibold
					frame.Position = UDim2.new(0, 0, 1, 0)
					frame.Size = UDim2.new(1, 0, 1.5, 0)
					frame.Text = resource.Name:upper().. " DEFICIT"
					frame.TextColor3 = Color3.fromRGB(255, 187, 49)
					frame.TextSize = 8
					frame.TextWrapped = true

					if flow > 0 then
						frame.Visible = false
					else
						frame.Visible = true
					end
					resource.Changed:Connect(function()
						if flow > 0 then
							frame.Visible = false
						else
							frame.Visible = true
						end
					end)
					
					frame.Name = resource.Name.. "-deficit"
					
					local uiascr = Instance.new("UIAspectRatioConstraint")
					uiascr.Parent = frame
					uiascr.AspectRatio = 1
					uiascr.AspectType = Enum.AspectType.FitWithinMaxSize
					uiascr.DominantAxis = Enum.DominantAxis.Height
					
					local uit = Instance.new("UITextSizeConstraint")
					uit.MaxTextSize = 19
					uit.MinTextSize = 15
					uit.Parent = frame
				else
					local frame = game.Players.LocalPlayer.PlayerGui:WaitForChild("GameGui"):WaitForChild("MainFrame"):WaitForChild("StatsFrame"):WaitForChild("Stats"):WaitForChild("WarningFrame"):FindFirstChild(resource.Name.. "-deficit")
					if flow > 1 then
						frame.Visible = false
					else
						frame.Visible = true
					end
				end
			else
				if game.Players.LocalPlayer.PlayerGui:WaitForChild("GameGui"):WaitForChild("MainFrame"):WaitForChild("StatsFrame"):WaitForChild("Stats"):WaitForChild("WarningFrame"):FindFirstChild(resource.Name.. "-deficit") then
					game.Players.LocalPlayer.PlayerGui:WaitForChild("GameGui"):WaitForChild("MainFrame"):WaitForChild("StatsFrame"):WaitForChild("Stats"):WaitForChild("WarningFrame"):FindFirstChild(resource.Name.. "-deficit"):Destroy()
				end
			end
		end
	end
end
coroutine.wrap(CGMHPXC_fake_script)()
